controller_manager:
  ros__parameters:
    update_rate: 50 # Hz

    amr_diff_drive_controller:
      type: amr_diff_drive_controller/DiffDriveController

    amr_base_controller:
      type: amr_base_controller/BaseController

    amr_battery_controller:
      type: amr_battery_controller/BatteryController

    amr_gpio_controller:
      type: amr_gpio_controller/GPIOController

    amr_state_controller:
      type: amr_state_controller/StateController

    joint_state_controller:
      type: joint_state_controller/JointStateController
    
amr_base_controller:
  ros__parameters:
    button_name: button_joint
    tower_light_name: lamp_joint
    dcu_name: dcu_joint

amr_battery_controller:
  ros__parameters:
    battery_name: battery_joint
    thread_high: 25.5
    thread_low: 23.5
    max_voltage: 27.5
    min_voltage: 23.4

amr_gpio_controller:
  ros__parameters:
    gpio_name: gpio_joint

amr_state_controller:
  ros__parameters:
    simulation: false

amr_diff_drive_controller:
  ros__parameters:
    left_wheel_names: ["wheel_left_joint"]
    right_wheel_names: ["wheel_right_joint"]

    wheel_separation: 0.317
    wheels_per_side: 1 # actually 2, but both are controlled by 1 signal
    wheel_radius: 0.064

    wheel_separation_multiplier: 1.0
    left_wheel_radius_multiplier: 1.0
    right_wheel_radius_multiplier: 1.0

    odom_frame_id: odom
    base_frame_id: base_footprint
    pose_covariance_diagonal: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
    twist_covariance_diagonal: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]

    open_loop: false
    enable_odom_tf: true

    cmd_vel_timeout: 0.5 # seconds
    publish_limited_velocity: true
    velocity_rolling_window_size: 10
    use_stamped_vel: false

    linear.x.has_velocity_limits: false
    linear.x.has_acceleration_limits: false
    linear.x.has_jerk_limits: false
    linear.x.max_velocity: 0.0
    linear.x.min_velocity: 0.0
    linear.x.max_acceleration: 0.0
    linear.x.max_jerk: 0.0
    linear.x.min_jerk: 0.0

    angular.z.has_velocity_limits: false
    angular.z.has_acceleration_limits: false
    angular.z.has_jerk_limits: false
    angular.z.max_velocity: 0.0
    angular.z.min_velocity: 0.0
    angular.z.max_acceleration: 0.0
    angular.z.min_acceleration: 0.0
    angular.z.max_jerk: 0.0
    angular.z.min_jerk: 0.0
